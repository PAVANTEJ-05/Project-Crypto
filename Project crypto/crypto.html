<!DOCTYPE html>
<html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Currency Wallet</title>
    <link rel="stylesheet" href="crypto.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="icon" href="wallet.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
 </head>
 <body>
       <div id="nav" class="sticky">
         <div id="navItems"><a href="#" style="text-decoration: none;"><h4 class="navEle">home</h4></a></div>
         <div id="navItems"><a href="about.html" style="text-decoration: none;"><h4 class="navEle"> about</h4></a></div>
         <div id="navItems"><a href="https://www.coinbase.com/en-gb/learn/crypto-basics/what-is-cryptocurrency" style="text-decoration: none;"><h4 class="navEle"> Learn More</h4></a></div>
         <div id="navItems"><a href="" style="text-decoration: none;" id="signout"><h4 class="navEle">logout</h4></a></div>
      </div>
     <div class="hd" >
         <h1>welcome to <em>crypto Wallet</em>
             <span class="material-symbols-outlined" id ="bit">
                 wallet
             </span>
             
         </h1>
     </div>
       <div class="profile" id="names">
         <h2  id="">
             Hello, user
         </h2>
        
       </div>
     <div  id="name">
         <h3 >
             action center
         </h3>
     </div>

     <div class="actCenter" >
         <div class="action" onclick="showTransferForm()" >
              <span class="material-symbols-outlined">
                 compare_arrows
              </span>
         </div>
          <div class="action" onclick="showBalance()">
                 <span class="material-symbols-outlined"  >
                      account_balance
                 </span>
           </div>
          <div class="action"  onclick="showTransactionHistory()">
              <span class="material-symbols-outlined">
                 history
              </span>
          </div>
          <div>transfer</div>
          <div>balance</div>
          <div>history</div>
     </div>
     <div>

<div id="transferForm" class="popup" style="display: none;">
  <span onclick="closePopup('transferForm')" style="  position: absolute;
  top: 7px;
  right: 12px;
  font-size: 20px;
  cursor: pointer;">&times;</span>
  <h2>Transfer</h2>
  <label for="transferAmount">Enter Amount:</label><br>
  <span id="auto"><input type="number" id="transferAmount" placeholder="Amount"></span><br><br>
  <div id="transferbtn"><button id="transfer">Transfer</button></div>
</div>



<div id="transactionHistory" style="display: none;" class="popup">
  <span onclick="closePopup('transactionHistory')" style="  position: absolute;
  top: 7px;
  right: 12px;
  font-size: 20px;
  cursor: pointer;">&times;</span>
  <h3>Transaction History</h3>
  <span>    Transactions &UpArrowDownArrow;&ensp;&ensp;
   &ensp;&ensp;date&ensp;&ensp;&ensp;
    &ensp;&ensp;&ensp;time</span>
  <ul id="transactionList">
  </ul>
</div>
<div id="Balance" class="popup">
  <span onclick="closePopup('Balance')" style="  position: absolute;
  top: 7px;
  right: 12px;
  font-size: 20px;
  cursor:pointer;">&times;</span>
  <h2>Balance</h2>
  <p class="balanceIcon"><img src="icons8-coins-64.png" alt=""><span id="balance"> 1000</span> BTC</p>

    <script src="app.js">
    </script>
    <script>
      var username =localStorage.getItem('username');
      //document.getElementById('names').textContent=username;
      document.getElementById('names').innerHTML = `<h2 style="grid-area: 1/1/span 2/ 1;" id="hello ">
             Hello, ${username}
         </h2> 
         <span class="material-symbols-outlined" id="acc">
               account_circle
         </span>
         <span id="caption">
          ${username}
                   </span> `
    </script>
 
 </body>
 <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyCDhDLSwdwXKwzVrQjJ6KbHJXm0SprybZk",
          authDomain: "crypto-wallet-ad568.firebaseapp.com",
          projectId: "crypto-wallet-ad568",
          storageBucket: "crypto-wallet-ad568.appspot.com",
          messagingSenderId: "672606049478",
          appId: "1:672606049478:web:5f5c2364a13b436a99f3c7",
          measurementId: "G-L631TGFELZ"
        };
      
        // Initialize Firebase  
        const app = initializeApp(firebaseConfig);
        const database =getDatabase(app);
        const auth = getAuth();
        const user =auth.currentUser
          onAuthStateChanged(auth, (user) => {
  if (user) {
    // User is signed in, see docs for a list of available properties
    // https://firebase.google.com/docs/reference/js/auth.user
    const uid = user.uid;
    // ...
  } else {
    // User is signed out
    // ...
    
  }
});
 signout.addEventListener('click',(e)=>{
  const auth = getAuth();
signOut(auth).then(() => {
  // Sign-out successful.
  alert('logged out!')
  window.location.href='login.html'
}).catch((error) => {
  // An error happened.
  const errorCode = error.code;
            const errorMessage = error.message;
            alert(errorMessage);
});
 })
        
      </script>
</html>
